<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ほくほくルート - Opening</title>
    <style>
        /* --- 基本設定 --- */
        :root {
            /* ロゴから抽出したキーカラー */
            --key-color: #006e5f; 
            --bg-color: #121a18; /* 落ち着いた深いダークグリーンブラック */
            --accent-light: #4db6ac; /* 光の表現用、少し明るいティール */
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: var(--bg-color);
            font-family: sans-serif;
        }

        /* --- メインコンテンツ --- */
        #main-content {
            width: 100%;
            height: 100vh;
            background: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 1s ease;
        }

        /* --- オープニング画面 --- */
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, #1a2e2b 0%, var(--bg-color) 100%);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1000px; /* 3D効果用 */
        }

        /* --- ロゴコンテナ --- */
        .logo-container {
            position: relative;
            z-index: 10;
            opacity: 0;
            /* 初期状態：少し奥に配置し、ぼかしておく */
            transform: translateZ(-200px) scale(0.8);
            filter: blur(10px);
            animation: logoAppear 2.5s cubic-bezier(0.23, 1, 0.32, 1) forwards 1s;
        }

        /* ロゴ画像 */
        .logo-image {
            width: 300px; /* 適宜調整してください */
            height: auto;
            display: block;
            /* 透過PNGを適切に表示 */
            background: transparent;
            /* ロゴ自体を少し発光させる */
            filter: drop-shadow(0 0 15px rgba(0, 110, 95, 0.4));
        }

        /* --- 背景の光のルートアニメーション --- */
        .route-lines-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }

        .route-line {
            position: absolute;
            background: linear-gradient(90deg, transparent, var(--accent-light), transparent);
            height: 2px;
            width: 0;
            opacity: 0;
            border-radius: 2px;
            box-shadow: 0 0 8px var(--accent-light);
            transform-origin: left center;
        }

        /* ロゴから広がる波紋 */
        .ripple {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 300px;
            height: 300px;
            border-radius: 50%;
            border: 2px solid var(--accent-light);
            opacity: 0;
            animation: rippleEffect 3s ease-out forwards 1.2s;
        }

        /* --- 遷移アニメーション --- */
        .fade-out-zoom {
            animation: fadeOutZoomScreen 1.2s cubic-bezier(0.7, 0, 0.3, 1) forwards;
        }

        /* --- Keyframes --- */
        @keyframes logoAppear {
            to {
                opacity: 1;
                transform: translateZ(0) scale(1);
                filter: blur(0) drop-shadow(0 0 25px rgba(0, 110, 95, 0.6));
            }
        }

        @keyframes rippleEffect {
            0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.8; border-width: 5px; }
            100% { transform: translate(-50%, -50%) scale(2.5); opacity: 0; border-width: 1px; }
        }

        @keyframes fadeOutZoomScreen {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(1.1); visibility: hidden; }
        }
        
        /* スマホ対応 */
        @media screen and (max-width: 768px) {
            .logo-image { width: 220px; }
            .ripple { width: 220px; height: 220px; }
        }
    </style>
</head>
<body>
    <div id="splash-screen">
        <div class="route-lines-container" id="lines-container"></div>
        <div class="ripple"></div>
        <div class="logo-container">
            <img src="../logo/logo_opening.png" alt="ほくほくルート ロゴ" class="logo-image">
        </div>
    </div>

    <div id="main-content">
        <h1 style="color: #333;">アプリホーム画面</h1>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const linesContainer = document.getElementById('lines-container');
            const splash = document.getElementById('splash-screen');
            const mainContent = document.getElementById('main-content');

            const lineCount = 25; // ラインの本数

            function createRouteLines() {
                for (let i = 0; i < lineCount; i++) {
                    const line = document.createElement('div');
                    line.classList.add('route-line');

                    // 画面全体にランダムに配置
                    const top = Math.random() * 100;
                    const left = Math.random() * 100;
                    // 角度をランダムに、ただし水平・垂直に近い角度を多めにして「ルート感」を出す
                    let rotate = Math.random() * 360;
                    if (Math.random() > 0.5) {
                         rotate = Math.round(rotate / 45) * 45 + (Math.random() * 10 - 5);
                    }
                    
                    const width = Math.random() * 150 + 50 + 'px'; // 長さ

                    line.style.top = `${top}%`;
                    line.style.left = `${left}%`;
                    line.style.transform = `rotate(${rotate}deg)`;
                    line.style.width = width;

                    linesContainer.appendChild(line);

                    // アニメーション: 線が伸びて移動し、消える
                    const duration = Math.random() * 2000 + 2500; // 2.5s - 4.5s
                    const delay = Math.random() * 2500; // 開始をばらつかせる

                    line.animate([
                        { opacity: 0, transform: `rotate(${rotate}deg) translateX(-100%) scaleX(0.1)`, offset: 0 },
                        { opacity: 1, transform: `rotate(${rotate}deg) translateX(0%) scaleX(1)`, offset: 0.4 },
                        { opacity: 0, transform: `rotate(${rotate}deg) translateX(100%) scaleX(0.8)`, offset: 1 }
                    ], {
                        duration: duration,
                        delay: delay,
                        easing: 'cubic-bezier(0.4, 0, 0.2, 1)',
                        fill: 'forwards',
                        // 複数回繰り返して賑やかにする
                        iterations: 2 
                    });
                }
            }

            // アニメーション開始
            createRouteLines();

            // 遷移処理 (約7秒後)
            setTimeout(() => {
                splash.classList.add('fade-out-zoom');
            }, 6000); // 6秒後にフェードアウト開始

            setTimeout(() => {
                // index.html（属性入力ページ）に遷移
                window.location.href = '../index.html';
            }, 7000); // 7秒後に遷移
        });
    </script>
</body>
</html>

